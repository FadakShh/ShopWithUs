<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Font Awesome Icons  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
        integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA=="
        crossorigin="anonymous" />

    <!-- Google Fonts  -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link href="css/forgotpasscss.css" rel="stylesheet">

    <title>Forgot Password </title>
</head>

<body>
  <div class="card">
      <p class="lock-icon"><i class="fas fa-lock"></i> RESET PASSWORD</p>
      <h2>Forgot Password?</h2>
      <p>You can reset your Password here</p>
      <input type="text" class="passInput" id="emailInput" placeholder="Email address">
      <button onclick="sendPassword()">Send My Password</button>
  </div>

  <script>
      function sendPassword() {
          // Retrieve the email address entered by the user
          var email = document.getElementById('emailInput').value;

          // Validate the email address if needed
          // For simplicity, let's assume basic validation here

          // Create an object with the email address
          var data = {
              email: email
          };

          // Send the password reset request to the server
          var xhr = new XMLHttpRequest();
          xhr.open("POST", "reset_password.php", true); // Replace "reset_password.php" with your server-side script URL
          xhr.setRequestHeader("Content-Type", "application/json");

          xhr.onreadystatechange = function () {
              if (xhr.readyState === 4 && xhr.status === 200) {
                  // Request was successful, handle response
                  console.log(xhr.responseText); // Log response from server
                  alert("Password reset email sent successfully."); 
                  // Show success message to the user
                  window.location.href = "sign-in-page.html";
              } else {
                  // Request failed or server error occurred
                  console.error("Error occurred while sending password reset request.");
                  alert("An error occurred while sending password reset request. Please try again later.");
              }
          };

          // Convert data object to JSON string
          var jsonData = JSON.stringify(data);

          // Send the request with JSON data
          xhr.send(jsonData);
      }
  </script>
</body>


</html>